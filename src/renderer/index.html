<!doctype html>
<html style="background:#050A12">
<head>
<meta charset="utf-8">
<title>I/O Coin</title>
<meta http-equiv="Content-Security-Policy" content="default-src 'self'; style-src 'self' 'unsafe-inline'; img-src 'self' data:; script-src 'self';">
<style>html,body{background:#050A12;margin:0}</style>
<link rel="stylesheet" href="styles.css">
</head>
<body class="splash-active" style="background:#050A12">
  <!-- Splash overlay (shown during daemon warmup) -->
  <div id="splashOverlay" class="splash-overlay">
    <div class="splash-content">
      <img src="../../assets/icon.png" alt="IOCoin" class="splash-logo" onerror="this.style.display='none'">
      <div id="splashStatus" class="splash-status">Connecting to daemon…<br>This may take a few minutes</div>
      <div class="splash-progress">
        <div class="splash-bar"></div>
      </div>
      <!-- Warmup actions (shown after 15s in warmup state) -->
      <div id="warmupActions" class="warmup-actions hidden">
        <button id="warmupRetryRpc" class="btn btn-sm">Retry RPC</button>
        <button id="warmupStopQuit" class="btn btn-sm btn-danger">Stop &amp; Quit</button>
        <button id="warmupOpenLogs" class="btn btn-sm btn-link">Open Logs</button>
      </div>
    </div>
  </div>

  <div class="chrome">
    <div class="title">I/O Coin</div>
    <div class="chips">
      <button id="ic-lock" class="chip" title="Wallet locked">
        <svg viewBox="0 0 24 24"><path id="p-lock" d="M12 2a5 5 0 00-5 5v3H6a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2v-8a2 2 0 00-2-2h-1V7a5 5 0 00-5-5zm3 8H9V7a3 3 0 016 0v3z"/></svg>
      </button>
      <div id="ic-peers" class="chip" title="Peers">
        <div class="bars"><span></span><span></span><span></span><span></span></div>
      </div>
      <div id="ic-stake" class="chip" title="Staking off">
        <svg viewBox="0 0 24 24"><path d="M7 21h10l-2-9 3-3-6-6-6 6 3 3-2 9z"/></svg>
      </div>
      <button id="ic-compact" class="chip" title="Toggle compact widget">
        <svg viewBox="0 0 24 24"><path d="M12 2l1.09 3.26L16 6l-2.91.74L12 10l-1.09-3.26L8 6l2.91-.74L12 2zm6 8l.72 2.17L21 13l-2.28.83L18 16l-.72-2.17L15 13l2.28-.83L18 10zM7 14l.55 1.64L9 16.5l-1.45.86L7 19l-.55-1.64L5 16.5l1.45-.86L7 14z"/></svg>
      </button>
    </div>
  </div>

  <div class="tabs">
    <button class="tab active" data-tab="overview">Overview</button>
    <button class="tab" data-tab="history">History</button>
    <button class="tab" data-tab="address">Address Book</button>
    <button class="tab" data-tab="settings">Settings</button>
  </div>

  <!-- Compact Widget (shown in compact mode) -->
  <div class="compact-widget">
    <div class="compact-widget-inner">
      <div class="widget-label">TOTAL I/O AVAILABLE</div>
      <div class="widget-balance" id="widget-balance">—</div>
      <div class="widget-staking">STAKING: <span class="value" id="widget-staking">0</span></div>
      <button class="widget-send" id="widget-send-btn"><span>▶</span> Send</button>
    </div>
  </div>

  <div id="tab-overview" class="page">
    <!-- Connection banner (shown while connecting to daemon) -->
    <div id="connectBanner" class="connect-banner hidden">
      <div class="connect-inner">
        <div id="connectText">Connecting to daemon...</div>
        <div id="connectError" class="connect-error hidden"></div>
        <a id="connectHelp" class="connect-help hidden" href="https://i-o-digital-foundation.gitbook.io/ioc/wallet-installation-guide" target="_blank">Open Installation Guide</a>
      </div>
    </div>
    <div class="panel">
      <div class="panel-inner">
        <div class="h3">TOTAL I/O AVAILABLE</div>
        <div id="bignum"><span id="big-balance">—</span></div>
        <div class="stake-line">STAKING: <span id="staking">0</span></div>
        <button id="sendBtn" class="cta"><span>▶</span> Send</button>
      </div>
    </div>
    <div class="sync-wrap">
      <div id="syncText">Syncing wallet (0 / 0 blocks)</div>
      <div class="progress"><div id="syncbar"></div></div>
    </div>
  </div>

  <div id="tab-history" class="page hidden">
    <div class="panel">
      <div class="panel-inner">
        <div class="h3">History</div>
        <table class="tx">
          <thead><tr><th>When</th><th>Amount</th><th>Address / Txid</th></tr></thead>
          <tbody id="txrows"></tbody>
        </table>
      </div>
    </div>
  </div>

  <div id="tab-address" class="page hidden">
    <div class="panel">
      <div class="panel-inner">
        <div class="address-toolbar">
          <div class="h3">Address Book</div>
          <button id="newAddrBtn" class="btn btn-ok sm">+ New Address</button>
        </div>
        <div id="addrGrid" class="addr-grid"></div>
      </div>
    </div>
  </div>

  <div id="tab-settings" class="page hidden">
    <div class="settings-wrap">
      <!-- Wallet Tools Card -->
      <div class="panel wallet-tools">
        <div class="panel-inner">
          <div class="h3">Wallet Tools</div>
          <div class="tool-row">
            <button id="btnDump" class="btn">DUMP</button>
            <button id="btnImport" class="btn">IMPORT</button>
            <button id="btnOpenPath" class="btn">OPEN DEFAULT PATH</button>
          </div>
        </div>
      </div>

      <!-- Live Debug Log Card -->
      <div class="panel debug-log">
        <div class="panel-inner">
          <div class="h3">Live Debug Log</div>
          <div class="live-tail" id="live-tail"></div>
          <div class="diag-actions">
            <button id="start-tail" class="btn">Start Live Tail</button>
            <button id="stop-tail" class="btn">Stop</button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="unlockModal" class="modal hidden">
    <div class="sheet" id="unlockSheet">
      <div class="title2">Unlock wallet for staking</div>
      <input id="pass" type="password" placeholder="Wallet passphrase">
      <div class="err" id="unlockErr"></div>
      <div class="row">
        <button id="cancelUnlock" class="btn">Cancel</button>
        <button id="doUnlock" class="btn btn-ok">Unlock</button>
      </div>
    </div>
  </div>

  <div id="sendModal" class="modal hidden">
    <div class="sheet">
      <div class="title2">Send I/O</div>
      <input id="sendAddr" type="text" placeholder="Address">
      <input id="sendAmt" type="number" step="0.001" min="0" placeholder="Amount">
      <div class="row">
        <button id="cancelSend" class="btn">Cancel</button>
        <button id="doSend" class="btn btn-ok">Send</button>
      </div>
    </div>
  </div>

  <!-- New Address modal -->
  <div id="newAddrModal" class="modal hidden">
    <div class="sheet">
      <div class="title2">Create New Receiving Address</div>
      <input id="newLabel" type="text" placeholder="Label (optional)">
      <div class="err" id="newAddrErr"></div>
      <div id="newAddrResult" class="newaddr-result hidden"></div>
      <div class="row">
        <button id="cancelNewAddr" class="btn">Cancel</button>
        <button id="createNewAddr" class="btn btn-ok">Create</button>
      </div>
    </div>
  </div>

  <!-- Bootstrap modal (first-run chain data download) -->
  <div id="bootstrapModal" class="modal hidden">
    <div class="sheet bootstrap-sheet">
      <div class="title2">First Run Setup</div>
      <div id="bootstrapStatus" class="bootstrap-status">Checking chain data...</div>
      <div class="progress bootstrap-progress">
        <div id="bootstrapBar" class="bootstrap-bar"></div>
      </div>
      <div id="bootstrapPercent" class="bootstrap-percent"></div>
      <div id="bootstrapError" class="err hidden"></div>
      <div id="bootstrapActions" class="row hidden">
        <button id="bootstrapSkip" class="btn">Skip (Manual Sync)</button>
        <button id="bootstrapRetry" class="btn btn-ok">Retry</button>
      </div>
    </div>
  </div>

  <script src="renderer.js"></script>
</body>
</html>
